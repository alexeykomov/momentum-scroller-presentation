<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>
      Physics of momentum scrolling - presentation
      
    </title>
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css">
    <link rel="stylesheet" href="css/all.css">
    <!--Theme used for syntax highlighting of code.-->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <!--Printing and PDF exports..-->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-background="img/photo-1458724029936-2cc6ee38f5ef.jpg">
          <h1>
            Physics of momentum scrolling
            
          </h1>
        </section>
        <section>
          <h2>
            <p><span>Alexey Komov, EPAM</span></p>
            <p><a href="http://alexeykomov.me">http://alexeykomov.me</a></p>
          </h2>
          <!--img(src='img/qr-code.gif', alt='QR code for alexeykomov.me', style='display:inline-block')--><img src="img/picture-large.jpg" alt="Alexey K">
        </section>
        <section>
          <h1><span>The '</span><i>why?</i><span>'</span></h1>
          <h3>
            Native scrolling has a problem
            
          </h3>
        </section>
        <section>
          <h3>Sometimes you drag the whole screen</h3>
          <video data-autoplay="true">
            <source data-src="video/ios-scrolling-overscroll.mp4" type="video/mp4">
            <source data-src="video/ios-scrolling-overscroll.webm" type="video/webm">
          </video>
        </section>
        <section>
          <h1>
            Is it worth it to fix?
            
          </h1>
        </section>
        <section>
          <h1>Uncanny valley of UI</h1><img src="img/Mori_Uncanny_Valley.svg" alt="General explanation of uncanny valley" class="stretch white-background">
        </section>
        <section>
          <h1>Solutions?</h1>
          <h3>
            <div>They come down to "write your own scroll"...</div>
            <div>
              or - find already working implementation
              
            </div>
          </h3>
        </section>
        <section>
          <h1>Gmail for iOS web</h1>
          <h3><a href="https://web.archive.org/web/20141001100814/https://developers.google.com/mobile/articles/webapp_fixed_ui#bg">Here's</a><span>
              an old article by Ryan Fioravanti
              </span></h3>
        </section>
        <section>
          <h3>The heart of logic</h3>
          <pre class="stretch"><code class="javascript">doMomentum() {
  const velocity = this.getEndVelocity();
  const acceleration = this.getAcceleration(velocity);
  const displacement = - (velocity * velocity) / (2 * acceleration);
  const time = - velocity / acceleration;
  const newY = this.contentOffsetY + displacement;

  const transition =
      `${rflect.browser.css.getSelectorCasedProperty('transform')
      } ${time}ms cubic-bezier(0.33, 0.66, 0.66, 1)`;

  rflect.browser.css.setTransition(this.element, transition);
  rflect.browser.css.setTransform(this.element,
      `translate3d(0, ${newY}px, 0)`);
  this.contentOffsetY = newY;

  this.isDecelerating_ = true;
}
</code></pre>
        </section>
        <section>
          <h3>Movement with constant acceleration (deceleration)</h3>
          <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>v</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>&#x000A0;</mo><mo>=</mo><mo>&#x000A0;</mo><msub><mi>v</mi><mn>0</mn></msub><mo>&#x000A0;</mo><mo>+</mo><mo>&#x02009;</mo><mi>a</mi><mi>t</mi><mspace linebreak="newline"/></math></p>
          <p><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>x</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>&#x000A0;</mo><mo>=</mo><mo>&#x000A0;</mo><msub><mi>x</mi><mn>0</mn></msub><mo>&#x000A0;</mo><mo>+</mo><mo>&#x000A0;</mo><msub><mi>v</mi><mn>0</mn></msub><mi>t</mi><mo>&#x000A0;</mo><mo>+</mo><mo>&#x02009;</mo><mfrac><mrow><mi>a</mi><msup><mi>t</mi><mn>2</mn></msup></mrow><mn>2</mn></mfrac></math></p>
          <p>
            <math xmlns="http://www.w3.org/1998/Math/MathML"><mi>&#x00394;</mi><mi>x</mi><mo>=</mo><mfrac><mrow><msup><mi>v</mi><mn>2</mn></msup><mo>-</mo><msup><msub><mi>v</mi><mn>0</mn></msub><mn>2</mn></msup></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac><mspace linebreak="newline"/></math>
            
          </p>
        </section>
        <!--section
        //h3.
          //And displacement?
        
        -->
        <section>
          <h3>Natural deceleration</h3>
          <pre><code class="javascript">cubic-bezier(.33, .66, .66, 1)</code></pre><img src="img/bezier1.png" alt="Natural deceleration function" class="white-background">
        </section>
        <section>
          <h3>Natural deceleration - in motion</h3>
          <video data-autoplay="true">
            <source data-src="video/deceleration1.mp4" type="video/mp4">
            <source data-src="video/deceleration1.webm" type="video/webm">
          </video>
        </section>
        <section>
          <h3>What if we're past the bounds?</h3>
          <pre><code class="javascript">cubic-bezier(0, 0, .58, 1), ease-out</code></pre><img src="img/bezier2.png" alt="Ease out function" class="white-background">
        </section>
        <section>
          <h3>What if we're past the bounds - in motion</h3>
          <video data-autoplay="true">
            <source data-src="video/deceleration2.mp4" type="video/mp4">
            <source data-src="video/deceleration2.webm" type="video/webm">
          </video>
        </section>
        <section>
          <h3>What if we hit the bounds?</h3>
          <pre class="stretch"><code class="javascript">rflect.ui.MomentumScroller.prototype.doMomentum = function() {
  var velocity = this.getEndVelocity();
  var acceleration = this.getAcceleration(velocity);
  var displacement = - (velocity * velocity) / (2 * acceleration);
  var time = - velocity / acceleration;

  var newY = this.contentOffsetY + displacement;

  if (this.positionIsOutOfBounds(newY)) {

    this.setUpTransitionStage1();

  } else {

    // In previous example.

  }

  this.isDecelerating_ = true;

}

</code></pre>
        </section>
        <section>
          <h3>The result</h3>
          <video data-autoplay="true">
            <source data-src="video/comparison-native.mp4" type="video/mp4">
            <source data-src="video/comparison-native.webm" type="video/webm">
          </video>
          <video data-autoplay="true">
            <source data-src="video/comparison-artificial.mp4" type="video/mp4">
            <source data-src="video/comparison-artificial.webm" type="video/webm">
          </video>
        </section>
        <section>
          <h1>Presentation is here</h1><img src="img/qr-code-presentation.gif" alt="presentation QR code" class="stretch">
        </section>
        <section>
          <h1>Contacts</h1><img src="img/qr-code-homesite.gif" alt="Home site QR code" class="stretch">
          <p><a href="http://alexeykomov.me">http://alexeykomov.me</a></p>
          <p><a href="alexeykcontact@gmail.com">
              alexeykcontact@gmail.com
              </a></p>
        </section>
        <section>
          <h1>Credits</h1>
          <ul>
            <li><span>Ryan Fioravanti (</span><a href="https://twitter.com/rjfioravanti">@rjfioravanti</a><span>) - for Gmail scrolling</span></li>
            <li><a href="https://github.com/hakimel/reveal.js">Reveal.js&nbsp;</a><span>- for presentation engine</span></li>
            <li><span>Lea Verou - for&nbsp;</span><a href="http://cubic-bezier.com/#.17,.67,.83,.67">cubic-bezier.com</a></li>
            <li><a href="http://unsplash.com">Unsplash.com</a><span>
                - for gorgeous photos
                </span></li>
          </ul>
        </section>
        <section data-background="img/photo-1433360405326-e50f909805b3.jpg">
          <h1>
            Thx for your attention
            
          </h1>
        </section>
      </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        history: true,
      
        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          //{ src: 'plugin/markdown/marked.js' },
          //{ src: 'plugin/markdown/markdown.js' },
          //{ src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>